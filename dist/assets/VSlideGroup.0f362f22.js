import{g as Z,I as F,c as ee,aM as te,a6 as le,ae,aN as ne,r as b,j as m,i as V,aO as ue,ab as se,k as oe,l as p,aP as C,B as H,aQ as ie}from"./index.2383f90a.js";function G(n){const u=Math.abs(n);return Math.sign(n)*(u/((1/.501-2)*(1-u)+1))}function $(n){let{selectedElement:f,containerSize:u,contentSize:c,isRtl:S,currentScrollOffset:a,isHorizontal:s}=n;const t=s?f.clientWidth:f.clientHeight,o=s?f.offsetLeft:f.offsetTop,r=S&&s?c-o-t:o,i=u+a,g=t+r,x=t*.4;return r<=a?a=Math.max(r-x,0):i<=g&&(a=Math.min(a-(i-g-x),c-u)),a}function ce(n){let{selectedElement:f,containerSize:u,contentSize:c,isRtl:S,isHorizontal:a}=n;const s=a?f.clientWidth:f.clientHeight,t=a?f.offsetLeft:f.offsetTop,o=S&&a?c-t-s/2-u/2:t+s/2-u/2;return Math.min(c-u,Math.max(0,o))}const re=Symbol.for("vuetify:v-slide-group"),fe=Z()({name:"VSlideGroup",props:{centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:re},nextIcon:{type:F,default:"$next"},prevIcon:{type:F,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile"].includes(n)},...ee(),...te({selectedClass:"v-slide-group-item--active"})},emits:{"update:modelValue":n=>!0},setup(n,f){let{slots:u}=f;const{isRtl:c}=le(),{mobile:S}=ae(),a=ne(n,n.symbol),s=b(!1),t=b(0),o=b(0),r=b(0),i=m(()=>n.direction==="horizontal"),{resizeRef:g,contentRect:x}=V(),{resizeRef:v,contentRect:O}=V(),_=m(()=>a.selected.value.length?a.items.value.findIndex(e=>e.id===a.selected.value[0]):-1),q=m(()=>a.selected.value.length?a.items.value.findIndex(e=>e.id===a.selected.value[a.selected.value.length-1]):-1);if(ue){let e=-1;se(()=>[a.selected.value,x.value,O.value,i.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(x.value&&O.value){const l=i.value?"width":"height";o.value=x.value[l],r.value=O.value[l],s.value=o.value+1<r.value}if(_.value>=0&&v.value){const l=v.value.children[q.value];_.value===0||!s.value?t.value=0:n.centerActive?t.value=ce({selectedElement:l,containerSize:o.value,contentSize:r.value,isRtl:c.value,isHorizontal:i.value}):s.value&&(t.value=$({selectedElement:l,containerSize:o.value,contentSize:r.value,isRtl:c.value,currentScrollOffset:t.value,isHorizontal:i.value}))}})})}const R=b(!1);let M=0,P=0;function B(e){const l=i.value?"clientX":"clientY";P=(c.value&&i.value?-1:1)*t.value,M=e.touches[0][l],R.value=!0}function L(e){if(!s.value)return;const l=i.value?"clientX":"clientY",d=c.value&&i.value?-1:1;t.value=d*(P+M-e.touches[0][l])}function N(e){const l=r.value-o.value;t.value<0||!s.value?t.value=0:t.value>=l&&(t.value=l),R.value=!1}function W(){!g.value||(g.value[i.value?"scrollLeft":"scrollTop"]=0)}const k=b(!1);function X(e){if(k.value=!0,!(!s.value||!v.value)){for(const l of e.composedPath())for(const d of v.value.children)if(d===l){t.value=$({selectedElement:d,containerSize:o.value,contentSize:r.value,isRtl:c.value,currentScrollOffset:t.value,isHorizontal:i.value});return}}}function Y(e){k.value=!1}function j(e){var l;!k.value&&!(e.relatedTarget&&((l=v.value)==null?void 0:l.contains(e.relatedTarget)))&&h()}function D(e){!v.value||(i.value?e.key==="ArrowRight"?h(c.value?"prev":"next"):e.key==="ArrowLeft"&&h(c.value?"next":"prev"):e.key==="ArrowDown"?h("next"):e.key==="ArrowUp"&&h("prev"),e.key==="Home"?h("first"):e.key==="End"&&h("last"))}function h(e){var l,d,z,w,E;if(!!v.value)if(!e)(l=[...v.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(J=>!J.hasAttribute("disabled"))[0])==null||l.focus();else if(e==="next"){const y=(d=v.value.querySelector(":focus"))==null?void 0:d.nextElementSibling;y?y.focus():h("first")}else if(e==="prev"){const y=(z=v.value.querySelector(":focus"))==null?void 0:z.previousElementSibling;y?y.focus():h("last")}else e==="first"?(w=v.value.firstElementChild)==null||w.focus():e==="last"&&((E=v.value.lastElementChild)==null||E.focus())}function T(e){const l=t.value+(e==="prev"?-1:1)*o.value;t.value=ie(l,0,r.value-o.value)}const K=m(()=>{let e=t.value>r.value-o.value?-(r.value-o.value)+G(r.value-o.value-t.value):-t.value;t.value<=0&&(e=G(-t.value));const l=c.value&&i.value?-1:1;return{transform:`translate${i.value?"X":"Y"}(${l*e}px)`,transition:R.value?"none":"",willChange:R.value?"transform":""}}),A=m(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),I=m(()=>{switch(n.showArrows){case"always":return!0;case"desktop":return!S.value;case!0:return s.value||Math.abs(t.value)>0;case"mobile":return S.value||s.value||Math.abs(t.value)>0;default:return!S.value&&(s.value||Math.abs(t.value)>0)}}),U=m(()=>Math.abs(t.value)>0),Q=m(()=>r.value>Math.abs(t.value)+o.value);return oe(()=>p(n.tag,{class:["v-slide-group",{"v-slide-group--vertical":!i.value,"v-slide-group--has-affixes":I.value,"v-slide-group--is-overflowing":s.value}],tabindex:k.value||a.selected.value.length?-1:0,onFocus:j},{default:()=>{var e,l,d,z,w;return[I.value&&p("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!U.value}],onClick:()=>T("prev")},[(l=(e=u.prev)==null?void 0:e.call(u,A.value))!=null?l:p(C,null,{default:()=>[p(H,{icon:c.value?n.nextIcon:n.prevIcon},null)]})]),p("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:W},[p("div",{ref:v,class:"v-slide-group__content",style:K.value,onTouchstartPassive:B,onTouchmovePassive:L,onTouchendPassive:N,onFocusin:X,onFocusout:Y,onKeydown:D},[(d=u.default)==null?void 0:d.call(u,A.value)])]),I.value&&p("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Q.value}],onClick:()=>T("next")},[(w=(z=u.next)==null?void 0:z.call(u,A.value))!=null?w:p(C,null,{default:()=>[p(H,{icon:c.value?n.prevIcon:n.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:T,scrollOffset:t,focus:h}}});export{fe as V,re as a};
